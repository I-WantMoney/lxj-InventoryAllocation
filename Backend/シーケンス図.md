### シーケンス図

このシーケンス図は、フロントエンドアプリケーションとバックエンドのAPIおよびデータベースの間のインタラクションを示しています。

1. フロントエンドアプリケーションは、受注データを`/orders`エンドポイントに送信します。APIは受注データを検証し、データベースに保存します。

2. フロントエンドアプリケーションは、在庫データを`/inventories`エンドポイントに送信します。APIは在庫データを検証し、データベースに保存します。

3. フロントエンドアプリケーションは、`/allocate`エンドポイントに在庫引当のリクエストを送信します。APIはリクエストを検証し、`allocation.py`モジュールを呼び出して在庫引当処理を実行します。`allocation.py`は、`models.py`と`database.py`を使用して、必要なデータを取得し、引当ロジックを適用します。引当結果は、データベースに保存されます。

4. フロントエンドアプリケーションは、`/orders`エンドポイントにGETリクエストを送信して、受注データを取得します。APIは`models.py`と`database.py`を使用してデータを取得し、`schemas.py`を使用してシリアライズされた応答を返します。

5. フロントエンドアプリケーションは、`/inventories`エンドポイントにGETリクエストを送信して、在庫データを取得します。APIは`models.py`と`database.py`を使用してデータを取得し、`schemas.py`を使用してシリアライズされた応答を返します。

6. フロントエンドアプリケーションは、`/allocation-results`エンドポイントにGETリクエストを送信して、引当結果を取得します。APIは`models.py`と`database.py`を使用してデータを取得し、`schemas.py`を使用してシリアライズされた応答を返します。

このシーケンス図は、アプリケーションの主要なフローを示しています。実際のアプリケーションでは、エラーハンドリング、認証、認可などの追加の手順が含まれる場合があります。
```mermaid
sequenceDiagram
    participant Frontend
    participant API (main.py)
    participant allocation.py
    participant models.py
    participant database.py
    participant schemas.py
    participant Database

    Frontend->>+API (main.py): POST /orders
    API (main.py)->>+schemas.py: Validate order data
    schemas.py-->>-API (main.py): Validated order data
    API (main.py)->>+models.py: Create Order object
    models.py-->>-API (main.py): Order object
    API (main.py)->>+database.py: Save Order to database
    database.py->>+Database: Insert Order
    Database-->>-database.py: Order saved
    database.py-->>-API (main.py): Order saved
    API (main.py)-->>-Frontend: Order created response

    Frontend->>+API (main.py): POST /inventories
    API (main.py)->>+schemas.py: Validate inventory data
    schemas.py-->>-API (main.py): Validated inventory data
    API (main.py)->>+models.py: Create Inventory object
    models.py-->>-API (main.py): Inventory object
    API (main.py)->>+database.py: Save Inventory to database
    database.py->>+Database: Insert Inventory
    Database-->>-database.py: Inventory saved
    database.py-->>-API (main.py): Inventory saved
    API (main.py)-->>-Frontend: Inventory created response

    Frontend->>+API (main.py): POST /allocate
    API (main.py)->>+schemas.py: Validate allocation request
    schemas.py-->>-API (main.py): Validated allocation request
    API (main.py)->>+allocation.py: Allocate inventory
    allocation.py->>+models.py: Retrieve orders and inventories
    models.py->>+database.py: Get orders and inventories from database
    database.py->>+Database: Query orders and inventories
    Database-->>-database.py: Orders and inventories data
    database.py-->>-models.py: Orders and inventories data
    models.py-->>-allocation.py: Orders and inventories data
    allocation.py->>allocation.py: Perform allocation logic
    allocation.py->>+models.py: Create AllocationResult objects
    models.py-->>-allocation.py: AllocationResult objects
    allocation.py->>+database.py: Save AllocationResults to database
    database.py->>+Database: Insert AllocationResults
    Database-->>-database.py: AllocationResults saved
    database.py-->>-allocation.py: AllocationResults saved
    allocation.py-->>-API (main.py): Allocation completed
    API (main.py)-->>-Frontend: Allocation response

    Frontend->>+API (main.py): GET /orders
    API (main.py)->>+models.py: Retrieve orders
    models.py->>+database.py: Get orders from database
    database.py->>+Database: Query orders
    Database-->>-database.py: Orders data
    database.py-->>-models.py: Orders data
    models.py-->>-API (main.py): Orders data
    API (main.py)->>+schemas.py: Serialize orders
    schemas.py-->>-API (main.py): Serialized orders
    API (main.py)-->>-Frontend: Orders response

    Frontend->>+API (main.py): GET /inventories
    API (main.py)->>+models.py: Retrieve inventories
    models.py->>+database.py: Get inventories from database
    database.py->>+Database: Query inventories
    Database-->>-database.py: Inventories data
    database.py-->>-models.py: Inventories data
    models.py-->>-API (main.py): Inventories data
    API (main.py)->>+schemas.py: Serialize inventories
    schemas.py-->>-API (main.py): Serialized inventories
    API (main.py)-->>-Frontend: Inventories response

    Frontend->>+API (main.py): GET /allocation-results
    API (main.py)->>+models.py: Retrieve allocation results
    models.py->>+database.py: Get allocation results from database
    database.py->>+Database: Query allocation results
    Database-->>-database.py: Allocation results data
    database.py-->>-models.py: Allocation results data
    models.py-->>-API (main.py): Allocation results data
    API (main.py)->>+schemas.py: Serialize allocation results
    schemas.py-->>-API (main.py): Serialized allocation results
    API (main.py)-->>-Frontend: Allocation results response
```

